# Application name and port
spring.application.name=testwigr
server.port=8080

# MongoDB configuration
spring.data.mongodb.host=localhost
spring.data.mongodb.port=27017
spring.data.mongodb.database=testwigr
spring.data.mongodb.auto-index-creation=true

spring.profiles.active=test
spring.mongodb.embedded.version=4.0.21

# JWT Configuration (for authentication)
app.jwt.secret=your-secret-key-here
app.jwt.expiration=86400000

# Logging configuration
logging.level.org.springframework.data=debug
logging.level.com.example=debug

# Swagger Configuration
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method

# MongoDB connection pooling configuration
spring.data.mongodb.min-connections-per-host=10
spring.data.mongodb.max-connections-per-host=100
spring.data.mongodb.max-connection-idle-time=60000
spring.data.mongodb.max-connection-life-time=300000
spring.data.mongodb.connect-timeout=10000
spring.data.mongodb.socket-timeout=60000
spring.data.mongodb.server-selection-timeout=30000
spring.data.mongodb.max-wait-time=120000
spring.data.mongodb.keep-alive=true
spring.data.mongodb.always-use-m-beans=false

# Set a reasonable connection pool size based on expected load
# For a medium-load application, these values work well
spring.data.mongodb.threads-allowed-to-block-for-connection-multiplier=5

# Actuator endpoints for monitoring connection health
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.health.mongodb.enabled=true
